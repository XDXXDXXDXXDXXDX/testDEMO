"use strict";var loginURL={"zh-cmn-Hans":"https://www.emtailor.com/b2bviews/backend-sdk/cn/login.html",en:"https://www.emtailor.com/b2bviews/backend-sdk/en/login.html",ja:"https://www.emtailor.com/b2bviews/backend-sdk/jp/login.html"},measureURL={"zh-cmn-Hans":"https://www.emtailor.com/b2bviews/backend-sdk/cn/measure.html",en:"https://www.emtailor.com/b2bviews/backend-sdk/en/measure.html",ja:"https://www.emtailor.com/b2bviews/backend-sdk/jp/measure.html"},tutorialURL={"zh-cmn-Hans":"https://www.emtailor.com/b2bviews/backend-sdk/cn/tutorial.html",en:"https://www.emtailor.com/b2bviews/backend-sdk/en/tutorial.html",ja:"https://www.emtailor.com/b2bviews/backend-sdk/jp/tutorial.html"},accountURL={"zh-cmn-Hans":"https://www.emtailor.com/b2bviews/backend-sdk/cn/account.html",en:"https://www.emtailor.com/b2bviews/backend-sdk/en/account.html",ja:"https://www.emtailor.com/b2bviews/backend-sdk/jp/account.html"},forgetPwURL={"zh-cmn-Hans":"https://www.emtailor.com/b2bviews/backend-sdk/cn/forget-password.html",en:"https://www.emtailor.com/b2bviews/backend-sdk/en/forget-password.html",ja:"https://www.emtailor.com/b2bviews/backend-sdk/jp/forget-password.html"},measureMobileURL={"zh-cmn-Hans":"https://www.emtailor.com/b2bviews/backend-sdk/cn/measure-mobile.html",en:"https://www.emtailor.com/b2bviews/backend-sdk/en/measure-mobile.html",ja:"https://www.emtailor.com/b2bviews/backend-sdk/jp/measure-mobile.html"},userIdTable={"zh-cmn-Hans":"用户 ID",en:"User ID",ja:"名前"},adjustTable={"zh-cmn-Hans":"调整",en:"Adjust",ja:"調整"},viewTable={"zh-cmn-Hans":"展示",en:"View",ja:"表示"},genderTable={"zh-cmn-Hans":["女","男"],en:["Female","Male"],ja:["女性","男性"]},accountFirPwWarning={"zh-cmn-Hans":"密码长度6-16位，至少分别有一个特殊符号、大写字母、小写字母和数字",en:"Password must be 6-16 characters, and including at least one special character, capital letter, lowercase letter, and digit.",ja:"パスワードは6-16文字で、記号、大文字、小文字、数字を含んでいる必要があります"},accountSecPwWarning={"zh-cmn-Hans":"两个密码不一致",en:"Password is different from the first one.",ja:"パスワードが一致しません"},sendText={"zh-cmn-Hans":"Send",en:"Send",ja:"送る"},cApiWarnText={"zh-cmn-Hans":"这不是一个合法的域名",en:"It isn't an authorized domain!",ja:"It isn't an authorized domain!"},SDKAPI={signin:"https://www.emtailor.com/b2b/api/corp/signin",imgsMeasure:"https://www.emtailor.com/b2b/api/measure/imgs",imgsTutorial:"https://www.emtailor.com/b2b/api/tutorial/imgs",getlimit:"https://www.emtailor.com/b2b/api/corp/acsetting/getlimit",add:"https://www.emtailor.com/b2b/api/measure/add",resetpsw:"https://www.emtailor.com/b2b/api/corp/acsetting/resetpsw",sendemail:"https://www.emtailor.com/b2b/api/corp/forgetpsw/sendemail",acSendEmail:"https://www.emtailor.com/b2b/api/corp/acsetting/sendemail",vericode:"https://www.emtailor.com/b2b/api/corp/forgetpsw/vericode",newemail:"https://www.emtailor.com/b2b/api/corp/acsetting/newemail",newpsw:"https://www.emtailor.com/b2b/api/corp/forgetpsw/newpsw",modelling:"https://www.emtailor.com/b2b/api/measure/modelling",listMeasure:"https://www.emtailor.com/b2b/api/measure/list",listTutorial:"https://www.emtailor.com/b2b/api/tutorial/list",updatecorpapi:"https://www.emtailor.com/b2b/api/corp/acsetting/updatecorpapi"};(toz_ajax=function(t){this.settings={}}).prototype={post:function(t){var a=this,n="tozA_"+this.genID(2);if(this.settings[n]=$.extend({url:"",data:"",timeout:12e4,dataType:"JSON",async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",headers:{Authorization:""},crossDomain:!1,beforeSend:new Function("return"),success:new Function("return"),fail:new Function("return"),complete:new Function("return"),closeLoading:!1},t),""===this.settings[n].url&&toz_Toast.init({title:"Wrong",content:"Url can't be empty.",duration:-1,mask:!1,icon:"failure"}),!this.settings[n].closeLoading)var i=toz_Toast.init({title:"Loading",content:"",duration:-1,mask:!0,icon:"loading"});var o=$.ajax({type:"post",url:a.settings[n].url,data:a.settings[n].data,timeout:a.settings[n].timeout,dataType:a.settings[n].dataType,async:a.settings[n].async,crossDomain:a.settings[n].crossDomain,headers:{Authorization:a.settings[n].headers.Authorization},success:function(t){a.settings[n].closeLoading||toz_Toast.hideToast(i),setTimeout(function(){a.settings[n].success(t),delete a.settings[n]},550)},fail:function(t){a.settings[n].closeLoading||toz_Toast.hideToast(i),toz_Toast.init({title:"Wrong",content:t,duration:-1,mask:!1,icon:"failure"}),a.settings[n].fail(t),delete a.settings[n]},complete:function(t,e){"timeout"==e?o.abort():200!=t.status&&(a.settings[n].closeLoading||toz_Toast.hideToast(i),toz_Toast.init({title:"Wrong",content:"Sorry, network connection failed. Please try again.(ErrorCode:"+t.status+")",duration:-1,mask:!1,icon:"failure"}),a.settings[n].complete({XMLHttpRequest:t,status:e}),delete a.settings[n])}})},get:function(){},genID:function(t){return Number(Math.random().toString().substr(3,t)+Date.now()).toString(36)}};var toz_ajax=new toz_ajax;function setCookie(t,e,a){var n=new Date;n.setDate(n.getDate()+a),document.cookie=t+"="+e+";expires="+n+";path=/"}function getCookie(t){var e=RegExp(t+"=([^;]+)"),a=document.cookie.match(e);return a?a[1]:""}function delCookie(t){setCookie(t,null,-1)}var cloneObj=function(t){var e,a=t.constructor===Array?[]:{};if("object"==typeof t){if(window.JSON)e=JSON.stringify(t),a=JSON.parse(e);else for(var n in t)a[n]="object"==typeof t[n]?cloneObj(t[n]):t[n];return a}};function isPc(){var t={},e=navigator.platform;return t.win=0==e.indexOf("Win"),t.mac=0==e.indexOf("Mac"),t.x11="X11"==e||0==e.indexOf("Linux"),!!(t.win||t.mac||t.xll)}var theLanguage=$("html").attr("lang");$("#cnForgetPwUrl").click(function(){window.location.href=forgetPwURL["zh-cmn-Hans"]}),$("#enForgetPwUrl").click(function(){window.location.href=forgetPwURL.en}),$("#jpForgetPwUrl").click(function(){window.location.href=forgetPwURL.ja}),$("#returnLogin").click(function(){window.location.href=loginURL[theLanguage]}),$("#sendCode").click(function(){$("#sendCode").attr("disabled","true");var t=60,e=setInterval(function(){$("#sendCode").html(t),0===--t&&(clearInterval(e),$("#sendCode").html(sendText[theLanguage]),$("#sendCode").removeAttr("disabled"))},1e3),a={email:$("#email").val()};toz_ajax.post({url:SDKAPI.sendemail,data:a,success:function(t){0!=t.data.code&&toz_Toast.init({title:"Wrong",content:t.data.data,duration:-1,mask:!1,icon:"failure"})}})}),$("#VerCode").on("change",function(){var t={email:$("#email").val(),code:$("#VerCode").val()};toz_ajax.post({url:SDKAPI.vericode,data:t,success:function(t){0===t.data.code?($("#codeWrong").hide(),$("#codeRight").show(),$("input[type='password']").removeAttr("disabled")):($("#codeRight").hide(),$("#codeWrong").show(),$("input[type='password']").attr("disabled","true"))}})}),$("#firPw").on("change",function(){if(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-_]).{6,16}$/.test($("#firPw").val()))$("#firPwWarning p").remove(),$("#firPwWrong").hide(),$("#firPwRight").show();else if($("#firPwRight").hide(),$("#firPwWrong").show(),!$("#firPwWarning").html()){var t="<p>"+accountFirPwWarning[theLanguage]+"</p>";$("#firPwWarning").append(t)}}),$("#secPw").on("change",function(){if($("#firPw").val()===$("#secPw").val())$("#secPwWarning p").remove(),$("#secPwWrong").hide(),$("#secPwRight").show();else if($("#secPwRight").hide(),$("#secPwWrong").show(),!$("#secPwWarning").html()){var t="<p>"+accountSecPwWarning[theLanguage]+"</p>";$("#secPwWarning").append(t)}}),$("#Submit").click(function(){toz_Toast.init({title:"Loading",duration:-1,mask:!0,icon:"loading"});var t=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-_]).{6,16}$/;if(t.test($("#firPw").val())&&$("#firPw").val()==$("#secPw").val()){var e={email:$("#email").val(),password:$("#firPw").val(),code:$("#VerCode").val()};toz_ajax.post({url:SDKAPI.newpsw,data:e,success:function(t){0===t.data.code?toz_Toast.init({title:"Success",content:"Password has changed",duration:2e3,mask:!1,icon:"success"}):toz_Toast.init({title:"Wrong",content:t.data.data,duration:-1,mask:!1,icon:"failure"})}})}else t.test($("#firPw").val())?$("#firPw").val()!=$("#secPw").val()&&toz_Toast.init({title:"Warning",content:accountSecPwWarning[theLanguage],duration:-1,mask:!1,icon:"warning"}):toz_Toast.init({title:"Warning",content:accountFirPwWarning[theLanguage],duration:-1,mask:!1,icon:"warning"})});